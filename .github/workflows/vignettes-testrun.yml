name: Vignette Test Run

on:
  workflow_dispatch:
    inputs:
      vignette_name:
        description: 'Specific vignette to test (leave empty to test all vignettes)'
        required: false
        type: string
        default: ''
  pull_request:
    types: [opened, reopened, synchronize]
    paths:
      - 'vignettes/**/*.wdl'
      - 'vignettes/**/*.json'

permissions:
  contents: read

jobs:
  test-vignettes:
    uses: ./.github/workflows/testrun-reusable.yml
    with:
      item_type: vignettes
      item_name: ${{ github.event.inputs.vignette_name || '' }}
