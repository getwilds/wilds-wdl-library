name: Workflow Test Run

on:
  workflow_dispatch:
    inputs:
      workflow_name:
        description: 'Specific workflow to test (leave empty to test all workflows)'
        required: false
        type: string
        default: ''
  pull_request:
    types: [opened, reopened, synchronize]
    paths:
      - 'workflows/**/*.wdl'
      - 'workflows/**/*.json'

permissions:
  contents: read

jobs:
  test-workflows:
    uses: ./.github/workflows/testrun-reusable.yml
    with:
      item_type: workflows
      item_name: ${{ github.event.inputs.workflow_name || '' }}
